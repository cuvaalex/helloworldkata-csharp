
trigger:
- master

pool:
  vmImage: ubuntu-latest

variables:
- name: demo
  value: DevSecOps.Lab.DotNet

parameters:
  - name: env
    displayName: Environment
    type: string
    values:
      - dev
      - prod
      - test
      - train
    default: dev

stages:
- stage: BuildStage
  jobs:
  - job: BJ
    displayName: Build Job
    steps:
    - script: echo build

- stage: PackageStage
  dependsOn: BuildStage
  jobs:
  - job: PJ
    displayName: Package Job
    steps:
    - script: echo Package

- stage: DeployStage
  dependsOn: PackageStage
  jobs:
  - job: DJ
    displayName: Deploy Job
    steps:
    - script: echo Deploy